<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rasheek & Radyah — Save the Date</title>
  <meta name="theme-color" content="#f6f2ea" />
  <style>
    :root{
      --bg1:#fbf8f1;
      --bg2:#f3efe6;
      --paper:#fffdf8;
      --ink:#2b2b2b;
      --muted:#6b6b6b;
      --gold:#c9a86a;
      --rose:#d9b6b1;
      --shadow: 0 18px 60px rgba(20,20,20,.14);
      --radius: 22px;
      --ease: cubic-bezier(.2,.9,.2,1);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(201,168,106,.14), transparent 55%),
        radial-gradient(900px 500px at 90% 30%, rgba(217,182,177,.20), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100svh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{
      width:min(980px, 100%);
      display:grid;
      gap:18px;
      justify-items:center;
    }

    .hint{
      font-size:14px;
      color:var(--muted);
      text-align:center;
      line-height:1.4;
    }

    /* Stage holds envelope + card */
    .stage{
      width:min(520px, 100%);
      position:relative;
      height: 640px;
      display:flex;
      align-items:center;
      justify-content:center;
      perspective: 1200px;
    }

    /* INVITE CARD */
    .card{
      position:absolute;
      width: min(520px, 100%);
      max-width:520px;
      height: 560px;
      background: var(--paper);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 26px 22px 18px;
      transform: translateY(42px) scale(.98);
      opacity:0;
      pointer-events:none;
      transition: all 700ms var(--ease);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.05);
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-80px -80px auto auto;
      width:240px;
      height:240px;
      background: radial-gradient(circle at 30% 30%, rgba(201,168,106,.22), transparent 60%);
      transform: rotate(12deg);
    }
    .card::after{
      content:"";
      position:absolute;
      inset:auto auto -110px -110px;
      width:260px;
      height:260px;
      background: radial-gradient(circle at 55% 45%, rgba(217,182,177,.26), transparent 62%);
      transform: rotate(-10deg);
    }

    .cardInner{
      position:relative;
      height:100%;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .pill{
      font-size:12px;
      color:#3b3b3b;
      background: rgba(201,168,106,.18);
      border: 1px solid rgba(201,168,106,.35);
      padding:8px 10px;
      border-radius:999px;
      white-space:nowrap;
    }
    .mono{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:650;
      letter-spacing:.2px;
    }
    .monogram{
      width:40px;height:40px;border-radius:50%;
      display:grid;place-items:center;
      background: radial-gradient(circle at 30% 30%, #ffffff, #f1eadc);
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 8px 18px rgba(0,0,0,.08);
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight:700;
      color:#3a2f1e;
    }

    h1{
      margin: 6px 0 2px;
      font-size: 28px;
      text-align:center;
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight: 700;
      letter-spacing:.3px;
    }
    .sub{
      text-align:center;
      color:var(--muted);
      margin:0 0 8px;
      font-size:14px;
    }

    .countdown{
      display:grid;
      grid-template-columns: repeat(4,1fr);
      gap:10px;
      margin-top:6px;
    }
    .cd{
      background: rgba(0,0,0,.03);
      border:1px solid rgba(0,0,0,.06);
      border-radius:16px;
      padding:10px 8px;
      text-align:center;
    }
    .cd b{display:block;font-size:20px}
    .cd span{font-size:12px;color:var(--muted)}

    .tabs{
      display:flex;
      gap:10px;
      justify-content:center;
      margin-top:6px;
      flex-wrap:wrap;
    }
    .tabBtn{
      border:none;
      padding:10px 12px;
      border-radius:999px;
      background: rgba(0,0,0,.04);
      border: 1px solid rgba(0,0,0,.06);
      color: #2e2e2e;
      font-weight:600;
      cursor:pointer;
      transition: transform 120ms ease, background 200ms ease;
    }
    .tabBtn:active{transform:scale(.98)}
    .tabBtn.active{
      background: rgba(201,168,106,.22);
      border-color: rgba(201,168,106,.42);
    }

    .panel{
      margin-top:10px;
      display:none;
      gap:12px;
    }
    .panel.active{display:grid}

    .section{
      background: rgba(255,255,255,.55);
      border:1px solid rgba(0,0,0,.06);
      border-radius: 18px;
      padding: 14px 14px 12px;
    }
    .section h3{
      margin:0 0 8px;
      font-size:14px;
      letter-spacing:.2px;
      text-transform:uppercase;
      color:#3a3a3a;
    }
    .list{
      margin:0;
      padding:0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .item{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      margin-top:6px;
      background: linear-gradient(135deg, var(--gold), var(--rose));
      box-shadow: 0 6px 14px rgba(0,0,0,.12);
      flex:0 0 10px;
    }
    .item b{display:block}
    .item small{display:block;color:var(--muted);line-height:1.35}

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top:auto;
      padding-top:10px;
    }
    .btn{
      border:none;
      cursor:pointer;
      padding:12px 14px;
      border-radius:14px;
      font-weight:650;
      background: rgba(0,0,0,.06);
      border: 1px solid rgba(0,0,0,.08);
      color:#222;
      transition: transform 120ms ease, background 180ms ease;
    }
    .btn:active{transform:scale(.98)}
    .btn.primary{
      background: rgba(201,168,106,.28);
      border-color: rgba(201,168,106,.45);
    }

    .tiny{
      text-align:center;
      font-size:12px;
      color:var(--muted);
      margin: 8px 0 0;
    }

    /* ENVELOPE */
    .envelope{
      width:min(520px, 100%);
      max-width:520px;
      height: 420px;
      position:relative;
      filter: drop-shadow(0 18px 40px rgba(0,0,0,.14));
      transform: translateY(20px);
      transition: transform 700ms var(--ease), opacity 700ms var(--ease);
    }

    .envBody{
      position:absolute;
      inset:0;
      border-radius: 26px;
      background:
        linear-gradient(180deg, #ffffff, #f3ecdf);
      border: 1px solid rgba(0,0,0,.08);
      overflow:hidden;
    }
    /* bottom flap */
    .flapBottom{
      position:absolute;
      left:0;right:0;bottom:-1px;height:56%;
      background: linear-gradient(180deg, #f7f1e6, #efe5d5);
      clip-path: polygon(0 100%, 50% 18%, 100% 100%, 100% 0, 0 0);
      border-top: 1px solid rgba(0,0,0,.06);
    }
    /* left & right folds */
    .foldL, .foldR{
      position:absolute; top:0; bottom:0; width:55%;
      background: linear-gradient(180deg, #fffaf0, #f0e6d6);
      opacity:.9;
    }
    .foldL{
      left:-1px;
      clip-path: polygon(0 0, 100% 50%, 0 100%);
      border-right: 1px solid rgba(0,0,0,.06);
    }
    .foldR{
      right:-1px;
      clip-path: polygon(100% 0, 100% 100%, 0 50%);
      border-left: 1px solid rgba(0,0,0,.06);
    }
    /* top flap (opens) */
    .flapTop{
      position:absolute;
      left:-1px; right:-1px; top:-1px; height:60%;
      background: linear-gradient(180deg, #fbf6ec, #f1e6d6);
      clip-path: polygon(0 0, 100% 0, 50% 88%);
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform 900ms var(--ease);
      border-bottom: 1px solid rgba(0,0,0,.06);
      backface-visibility:hidden;
    }

    /* seal button */
    .seal{
      position:absolute;
      left:50%; top:54%;
      transform: translate(-50%,-50%);
      width:92px;height:92px;border-radius:50%;
      border:1px solid rgba(0,0,0,.10);
      background:
        radial-gradient(circle at 30% 30%, #fff, #f0e5d3 58%, #e7d6b7);
      box-shadow: 0 16px 30px rgba(0,0,0,.14);
      display:grid;
      place-items:center;
      cursor:pointer;
      user-select:none;
      z-index:4;
      transition: transform 180ms ease, opacity 500ms var(--ease);
    }
    .seal:active{transform:translate(-50%,-50%) scale(.98)}
    .seal span{
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight: 800;
      letter-spacing:.6px;
      color:#3a2f1e;
      font-size:22px;
    }
    .seal small{
      display:block;
      margin-top:2px;
      font-size:10px;
      letter-spacing:.8px;
      color: rgba(58,47,30,.75);
      text-transform:uppercase;
      text-align:center;
    }

    /* little “paper” peek behind flap */
    .peek{
      position:absolute;
      left:50%;
      top:18%;
      transform: translateX(-50%);
      width:86%;
      height: 64%;
      border-radius: 18px;
      background: linear-gradient(180deg, #fffdf8, #f6efe2);
      border: 1px solid rgba(0,0,0,.06);
      z-index:1;
    }
    .peekLine{
      position:absolute;
      inset:22px 18px auto 18px;
      height:2px;
      background: linear-gradient(90deg, transparent, rgba(201,168,106,.65), transparent);
    }

    /* OPEN STATE */
    .open .flapTop{ transform: rotateX(-165deg); }
    .open .seal{ opacity:0; pointer-events:none; }
    .open .envelope{
      transform: translateY(55px) scale(.96);
      opacity:.25;
    }
    .open .card{
      transform: translateY(-20px) scale(1);
      opacity:1;
      pointer-events:auto;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .flapTop, .card, .envelope{transition:none !important}
    }
  </style>
</head>
<body>
  <div class="wrap" id="app">
    <div class="hint" id="hint">
      <strong>Tap the seal to open your invitation.</strong><br/>
      Light theme • Mobile friendly • Shareable via GitHub Pages
    </div>

    <div class="stage">
      <!-- Envelope -->
      <div class="envelope" aria-label="Envelope invitation">
        <div class="envBody">
          <div class="peek" aria-hidden="true"><div class="peekLine"></div></div>
          <div class="foldL" aria-hidden="true"></div>
          <div class="foldR" aria-hidden="true"></div>
          <div class="flapBottom" aria-hidden="true"></div>
          <div class="flapTop" aria-hidden="true"></div>
        </div>

        <div class="seal" id="openBtn" role="button" tabindex="0" aria-label="Open invitation">
          <div style="text-align:center;line-height:1.05">
            <span>R♥R</span>
            <small>Tap to open</small>
          </div>
        </div>
      </div>

      <!-- Invite Card -->
      <div class="card" id="card" aria-live="polite">
        <div class="cardInner">
          <div class="topline">
            <div class="mono">
              <div class="monogram">R♥R</div>
              <div>
                <div style="font-weight:800;font-size:14px;line-height:1.1">Rasheek & Radyah</div>
                <div style="font-size:12px;color:var(--muted);line-height:1.1">Bangladesh • Nov–Dec 2026</div>
              </div>
            </div>
            <div class="pill">Save the Date — 26.11.26</div>
          </div>

          <h1>You’re Invited</h1>
          <p class="sub">An exclusive invitation for our wedding celebrations</p>

          <div class="countdown" id="countdown">
            <div class="cd"><b id="dd">—</b><span>Days</span></div>
            <div class="cd"><b id="hh">—</b><span>Hours</span></div>
            <div class="cd"><b id="mm">—</b><span>Minutes</span></div>
            <div class="cd"><b id="ss">—</b><span>Seconds</span></div>
          </div>

          <div class="tabs" role="tablist" aria-label="Event city tabs">
            <button class="tabBtn active" data-tab="ctg" role="tab" aria-selected="true">Chittagong</button>
            <button class="tabBtn" data-tab="dhk" role="tab" aria-selected="false">Dhaka</button>
          </div>

          <div class="panel active" id="ctg" role="tabpanel" aria-label="Chittagong events">
            <div class="section">
              <h3>Events • Chittagong</h3>
              <ul class="list">
                <li class="item">
                  <div class="dot"></div>
                  <div>
                    <b>Akht / Nikah — 26 Nov 2026</b>
                    <small>Small program at a mosque • Chittagong</small>
                  </div>
                </li>
                <li class="item">
                  <div class="dot"></div>
                  <div>
                    <b>Holud — 28 Nov 2026 (Day)</b>
                    <small>Outdoor daytime celebration • Estimated guests: 700</small>
                  </div>
                </li>
                <li class="item">
                  <div class="dot"></div>
                  <div>
                    <b>Wedding — 29 Nov 2026 (Night)</b>
                    <small>Hotel ballroom reception • Estimated guests: 1000</small>
                  </div>
                </li>
              </ul>
            </div>

            <div class="section">
              <h3>Notes</h3>
              <ul class="list">
                <li class="item"><div class="dot"></div><div><b>Photography</b><small>Premium cinematic coverage • Separate teams for CTG and Dhaka</small></div></li>
                <li class="item"><div class="dot"></div><div><b>Planning lead</b><small>Chittagong decisions led by Bride’s dad</small></div></li>
              </ul>
            </div>
          </div>

          <div class="panel" id="dhk" role="tabpanel" aria-label="Dhaka events">
            <div class="section">
              <h3>Event • Dhaka</h3>
              <ul class="list">
                <li class="item">
                  <div class="dot"></div>
                  <div>
                    <b>Walima — 04 Dec 2026</b>
                    <small>Hotel ballroom • Estimated guests: 1000</small>
                  </div>
                </li>
              </ul>
            </div>

            <div class="section">
              <h3>Notes</h3>
              <ul class="list">
                <li class="item"><div class="dot"></div><div><b>Planning lead</b><small>Dhaka decisions led by Groom’s dad</small></div></li>
                <li class="item"><div class="dot"></div><div><b>More details</b><small>Full schedule + venues will be shared closer to the dates</small></div></li>
              </ul>
            </div>
          </div>

          <div class="actions">
            <button class="btn primary" id="icsBtn">Add to Calendar (.ics)</button>
            <button class="btn" id="shareBtn">Copy Share Link</button>
            <button class="btn" id="closeBtn">Close</button>
          </div>

          <p class="tiny">Tip: host this on GitHub Pages to share with everyone.</p>
        </div>
      </div>
    </div>
  </div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // ===== SETTINGS =====
  // Countdown target: Akht/Nikah date (26 Nov 2026) at 6:00 PM Dhaka time (UTC+6)
  const targetISO = "2026-11-26T18:00:00+06:00";

  // ===== OPEN/CLOSE ENVELOPE =====
  const app = document.getElementById("app");
  const openBtn = document.getElementById("openBtn");
  const closeBtn = document.getElementById("closeBtn");
  const envelope = document.querySelector(".envelope");

  const openInvite = () => {
    if (!app) return;
    app.classList.add("open");
    if (navigator.vibrate) navigator.vibrate(20);
  };

  const closeInvite = () => {
    if (!app) return;
    app.classList.remove("open");
  };

  if (openBtn) {
    openBtn.addEventListener("click", openInvite);
    // iPhone/Safari sometimes prefers touchend for “tap”
    openBtn.addEventListener(
      "touchend",
      (e) => { e.preventDefault(); openInvite(); },
      { passive: false }
    );
    openBtn.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        openInvite();
      }
    });
  }

  // Bonus: tapping anywhere on the envelope also opens
  if (envelope) {
    envelope.addEventListener("click", openInvite);
    envelope.addEventListener(
      "touchend",
      (e) => { e.preventDefault(); openInvite(); },
      { passive: false }
    );
  }

  if (closeBtn) closeBtn.addEventListener("click", closeInvite);

  // ===== TABS =====
  const tabBtns = document.querySelectorAll(".tabBtn");
  const panels = {
    ctg: document.getElementById("ctg"),
    dhk: document.getElementById("dhk")
  };

  tabBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      tabBtns.forEach((b) => b.classList.remove("active"));
      btn.classList.add("active");

      const tab = btn.dataset.tab;
      Object.values(panels).forEach((p) => p && p.classList.remove("active"));
      if (panels[tab]) panels[tab].classList.add("active");

      tabBtns.forEach((b) =>
        b.setAttribute("aria-selected", b === btn ? "true" : "false")
      );
    });
  });

  // ===== COUNTDOWN =====
  const dd = document.getElementById("dd");
  const hh = document.getElementById("hh");
  const mm = document.getElementById("mm");
  const ss = document.getElementById("ss");

  const target = new Date(targetISO).getTime();

  function pad(n) { return String(n).padStart(2, "0"); }

  function tick() {
    const now = Date.now();
    let diff = Math.max(0, target - now);

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    diff -= days * (1000 * 60 * 60 * 24);
    const hours = Math.floor(diff / (1000 * 60 * 60));
    diff -= hours * (1000 * 60 * 60);
    const mins = Math.floor(diff / (1000 * 60));
    diff -= mins * (1000 * 60);
    const secs = Math.floor(diff / 1000);

    if (dd) dd.textContent = String(days);
    if (hh) hh.textContent = pad(hours);
    if (mm) mm.textContent = pad(mins);
    if (ss) ss.textContent = pad(secs);
  }

  tick();
  setInterval(tick, 1000);

  // ===== SHARE BUTTON =====
  const shareBtn = document.getElementById("shareBtn");
  if (shareBtn) {
    shareBtn.addEventListener("click", async () => {
      const url = window.location.href;
      try {
        if (navigator.share) {
          await navigator.share({
            title: "Rasheek & Radyah — Save the Date",
            text: "Save the Date — 26.11.26",
            url
          });
        } else {
          await navigator.clipboard.writeText(url);
          shareBtn.textContent = "Link Copied ✅";
          setTimeout(() => (shareBtn.textContent = "Copy Share Link"), 1400);
        }
      } catch (e) {
        // fallback copy
        try {
          await navigator.clipboard.writeText(url);
          shareBtn.textContent = "Link Copied ✅";
          setTimeout(() => (shareBtn.textContent = "Copy Share Link"), 1400);
        } catch (_) {}
      }
    });
  }

  // ===== ICS DOWNLOAD =====
  const icsBtn = document.getElementById("icsBtn");
  if (icsBtn) {
    icsBtn.addEventListener("click", () => {
      // Create a simple calendar file for Akht/Nikah (all-day event).
      // You can change SUMMARY / LOCATION anytime.
      const dtStart = "20261126";
      const dtEnd = "20261127";

      const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//RasheekRadyah//SaveTheDate//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${Date.now()}@razzy-create.github.io
DTSTAMP:${new Date().toISOString().replace(/[-:]/g,"").split(".")[0]}Z
DTSTART;VALUE=DATE:${dtStart}
DTEND;VALUE=DATE:${dtEnd}
SUMMARY:Rasheek & Radyah — Akht/Nikah
DESCRIPTION:Save the Date — 26 Nov 2026. Chittagong (Bangladesh). More details will be shared closer to the dates.
LOCATION:Chittagong, Bangladesh
END:VEVENT
END:VCALENDAR`;

      const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "rasheek-radyah-save-the-date.ics";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(a.href);
    });
  }
});
</script>
